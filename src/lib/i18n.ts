export type Language = 'nl' | 'en';

type Vars = Record<string, string | number>;

const translations: Record<Language, Record<string, string>> = {
  nl: {
    currentTurn: 'Aan de beurt',
    spotlight: 'Spotlight',
    waiting: 'Wachten',
    giftTracker: 'Cadeau teller',
    giftCount: '{gifts} / {max} cadeaus',
    giftRemaining: 'Nog {remaining}',
    giftMinus: 'Cadeau -1',
    giftPlus: 'Cadeau +1',
    correctCount: '{correct} / {threshold} goede antwoorden',
    correctRemaining: 'Nog {remaining} tot een pakje',
    correctPlus: 'Goed antwoord +1',
    skip: 'Vraag overslaan',
    lifeline: 'Hulplijn',
    maxPerChild: 'Max cadeaus per kind',
    maxPerChildSub: 'Pas dit in één keer voor iedereen aan',
    playersTitle: 'Spelers',
    playersSub: 'Pas namen aan of voeg iemand toe',
    addPlayer: '+ Speler',
    remove: 'Verwijder',
    questionPoolLabel: 'Vragenpakket',
    questionPoolSub: 'Kies welke vragen je wilt gebruiken',
    versionLabel: 'Versie',
    settingsTitle: 'Instellingen',
    theme: 'Thema',
    themeWarm: 'Warm Rood',
    themeWinter: 'Winternacht',
    themePeppermint: 'Pepermunt Sneeuw',
    themeMidnight: 'Middernacht Aurora',
    shuffleNow: 'Nu Schudden',
    madeWithLove: 'Gemaakt met ❤️ voor familiespeelavonden',
    timer: 'Timer',
    timerRange: '(tussen 20-30s, random)',
    timerStart: 'Start timer',
    timerStop: 'Stop',
    timerSuccess: 'Geslaagd',
    hintPrompt: 'Hint nodig? Onthul een letter',
    hintButton: 'Geef hint',
    answerLabel: 'Antwoord',
    showAnswer: 'Toon Antwoord',
    noFixedAnswer: '✨ Deze vraag heeft geen vast antwoord. Alles wat oprecht of grappig is, telt! ✨',
    nextQuestion: 'Volgende Vraag',
    loading: 'Laden...',
    rewardFor: 'Voor',
    rewardCard: 'Cadeaukaart',
    rewardCta: 'Pak je cadeau',
    questionRemaining: '{remaining} van {total} over',
    takeSpotlight: 'Pak de spotlight',
    playerTurnLabel: '{player} is aan de beurt',
    thresholdLabel: 'Juiste antwoorden per pakje',
    thresholdSub: 'Automatisch cadeau bij dit aantal',
    riddleTimerLabel: 'Raadsel timer (minuten)',
    riddleTimerSub: 'Tijd op? Dan stopt het raden',
    riddleAllPlay: 'Raadsel! Iedereen mag meedoen en raden.',
    riddleTimeUpTitle: 'Tijd is om',
    riddleTimeUpMessage: 'Het raden stopt hier. Klik verder om door te gaan.',
    riddleTimeUpClose: 'Oké, door naar de volgende',
  },
  en: {
    currentTurn: 'Current turn',
    spotlight: 'Spotlight',
    waiting: 'Waiting',
    giftTracker: 'Gift tracker',
    giftCount: '{gifts} / {max} gifts',
    giftRemaining: '{remaining} left',
    giftMinus: 'Gift -1',
    giftPlus: 'Gift +1',
    correctCount: '{correct} / {threshold} correct answers',
    correctRemaining: '{remaining} to go',
    correctMinus: 'Correct -1',
    correctPlus: 'Correct +1',
    skip: 'Skip question',
    lifeline: 'Use lifeline',
    maxPerChild: 'Max gifts per player',
    maxPerChildSub: 'Set this once for everyone',
    riddleTimerLabel: 'Riddle timer (minutes)',
    riddleTimerSub: 'Time up ends guessing',
    playersTitle: 'Players',
    playersSub: 'Edit names or add someone',
    addPlayer: '+ Player',
    remove: 'Remove',
    questionPoolLabel: 'Question pool',
    questionPoolSub: 'Choose which questions to use',
    versionLabel: 'Version',
    settingsTitle: 'Settings',
    theme: 'Theme',
    themeWarm: 'Warm Red',
    themeWinter: 'Winter night',
    themePeppermint: 'Peppermint Frost',
    themeMidnight: 'Midnight Aurora',
    shuffleNow: 'Shuffle now',
    madeWithLove: 'Made with ❤️ for family game nights',
    timer: 'Timer',
    timerRange: '(20-30s random)',
    timerStart: 'Start timer',
    timerStop: 'Stop',
    timerSuccess: 'Completed',
    hintPrompt: 'Need a hint? Reveal a letter',
    hintButton: 'Reveal hint',
    answerLabel: 'Answer',
    showAnswer: 'Show Answer',
    noFixedAnswer: '✨ This question has no fixed answer. Anything sincere or funny counts! ✨',
    nextQuestion: 'Next Question',
    loading: 'Loading...',
    rewardFor: 'For',
    rewardCard: 'Gift card',
    rewardCta: 'Grab your gift',
    questionRemaining: '{remaining} of {total} left',
    takeSpotlight: 'Take the spotlight',
    playerTurnLabel: '{player} is up',
    thresholdLabel: 'Correct answers per gift',
    thresholdSub: 'Auto-gift at this count',
    riddleAllPlay: 'Riddle! Everyone can join and guess.',
    riddleTimeUpTitle: 'Time is up',
    riddleTimeUpMessage: 'Guessing stops now. Click to continue.',
    riddleTimeUpClose: 'OK, next one',
  },
};

export function t(lang: Language, key: keyof typeof translations['nl'], vars?: Vars) {
  const template = translations[lang][key] ?? translations.nl[key] ?? key;
  if (!vars) return template;
  return Object.keys(vars).reduce((acc, k) => acc.replace(`{${k}}`, String(vars[k])), template);
}
